let e=!1;Object.assign;const t=Array.from,n=(e,t)=>e.push(t),s=e=>e.pop(),r=()=>{},i=e=>{for(let t=e.length-1;t>=0;t--)e[t]()},o=e=>e.length?()=>i(e):r,l=e=>"string"==typeof e,c=e=>"function"==typeof e,a=e=>null!=e&&"object"==typeof e,d=Array.isArray,u=e=>t=>t instanceof e,h=(Object.is,Object.defineProperty,Object.is),f=e=>{const t=e instanceof Error?`stack trace: \n${e.stack}`:JSON.stringify(e);console.error(`[ERROR]: ${t}`)},v=t=>{e&&console.warn(t)},p=(e,t)=>(v(e),t),m=(e,t)=>{for(let n=0,s=e.length;n<s;n++)t(e[n])},b=document,g=t=>b.createComment(e?t:""),w=e=>{const t=g(` ${e} begin `),n=g(` ${e} end `);return[t,n,()=>{const e=new Range;e.setStart(t,t.length),e.setEnd(n,0),e.deleteContents(),e.detach()}]},y=(e,t)=>{t!==r&&n(e,t)},$=(e,t,n,s)=>(e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}),E=(e,t,n)=>{const s=e.ownerDocument,r=s.$$delegates??=new Set;r.has(t)||(r.add(t),s.addEventListener(t,_));const i=`_$${t}`;return e[i]=n,()=>{delete e[i]}},_=e=>{const t=`_$${e.type}`,n=e.composedPath();m(n,(n=>{const s=n[t];if(null!=s)try{s.call(n,e)}catch(e){f(e)}}))},N=u(Node),x=u(DocumentFragment),S=(HTMLTemplateElement,Text,Element,"_$subs"),A=b.createElement.bind(b),T=b.createTextNode.bind(b),C=e=>b.createElementNS("http://www.w3.org/2000/svg",e),L=e=>b.createElementNS("http://www.w3.org/1998/Math/MathML",e),k=b.createDocumentFragment.bind(b),M=(e,t,n)=>null==n||!1===n?e.removeAttribute(t):e.setAttribute(t,`${n}`),O=e=>t=>e.appendChild(t),R=e=>t=>e.parentNode.insertBefore(t,e),j=e=>e.parentNode?.removeChild(e),q=(e,t,s)=>{const r=[];for(let s=e;s&&s!==t;s=s.nextSibling)n(r,s);t&&n(r,t),m(r,s)},I=e=>{const t=e();t&&q(t[0],t[1],j)},U=(t,n)=>(e&&(v('No "subscribe" function configured. No subscription will be created, and any bindings won\'t work.'),v({subscribable:t,subscriber:n})),r);let z=U;const D=t=>(e&&v('No "isSubscribable" function configured.'),a(t));let F=D;const H=(t,...s)=>{const r=s.length;if(e){t.length!==r+1&&f(`Invalid usage of "text". Fragments length(${t.length}) and bindings length(${s.length}) do not match.`),s.some((e=>a(e)&&!F(e)))&&f('Invalid usage of "text". Object text child must be a subscribable.')}return e=>{const i=[],l=[],c=()=>{const t=l.join("");if(t){const n=T(t);e(n)}l.length=0};for(let o=0;o<r;o++){n(l,t[o]);const r=s[o];if(F(r)){c();const t=T("");n(i,z(r,(e=>t.data=`${e}`))),e(t)}else n(l,`${r}`)}return n(l,t.at(-1)),c(),o(i)}},P=(e,t,n)=>z(n,(n=>M(e,t,n))),W=(customElements,(e,t)=>e(N(t)?O(t):t)),B=e=>{const[t,,n]=e;t(),I(n)},J=(e,t)=>N(e)?(t(e),r):c(e)?W(e,t)[0]:H`${e}`(t),Z=(e,t)=>{let n=null,s=null;const r=e=>{const r=x(e);return n||(n=r?e.firstChild:e),s=r?e.lastChild:e,t(e)},i=[];return d(e)?m(e,(e=>{y(i,J(e,r))})):y(i,J(e,r)),[i,()=>n&&s?[n,s]:void 0]};let G=A;const K=(e,t,...s)=>{if(t??={},s.length&&(t.children=1===s.length?s[0]:s),"string"==typeof e)return s=>{let r=G;const i="svg"===e,d="foreignObject"===e,u="math"===e,h=i||d||u;i&&(G=C),u&&(G=L);const f=G(e,"is"in t&&l(t.is)?{is:t.is}:void 0);d&&(G=A);const{children:v,ref:p,...m}=t;p&&(p.current=f);const[b]=null!=v?Z(v,O(f)):[[]];for(const e in m){const t=m[e];if(F(t))n(b,P(f,e,t));else{if(e.startsWith("on")){const s=e[2];if("A"<=s&&s<="Z"){const s=e.slice(2).toLowerCase();if(c(t)){n(b,$(f,s,t));continue}if(a(g=t)&&"handleEvent"in g&&c(g.handleEvent)){n(b,$(f,s,t,t.options));continue}}if(":"===s&&c(t)){const s=e.slice(3).toLowerCase();n(b,E(f,s,t));continue}}M(f,e,t)}}var g;return s(f),h&&(G=r),[o(b),f,()=>[f,f]]};if(X(e))return n=>new e(t).mount(n);const{ref:r,...i}=t,d=e(i);return r?e=>{const t=d(e);return r.current=t[1],t}:d},Q=K,V=({children:e})=>t=>{const n=k(),[s,i]=e?Z(e,O(n)):[[],r];return t(n),[o(s),void 0,i]},X=e=>!!e?.__hyplate_comp;class Y extends HTMLElement{static __hyplate_comp=!0;static shadowRootInit;static tag;static slotTag;static defineAs(e){return $aa9c104c9d2dfa74$export$f36d6a7a5c09a23e(e,this),"manual"!==this.shadowRootInit?.slotAssignment||this.slotTag||$aa9c104c9d2dfa74$export$f36d6a7a5c09a23e($4b253a87e73908fc$export$7aeaa1ca2e4d7cb5(e),class extends HTMLElement{}),e}static defaultProps;static get observedAttributes(){return[]}props;slots=$c2a998ebc17b2063$export$f49cbeca3e22a85e;cleanups=[];#e;#t;#n;constructor(e){super();const t=this.#n=new.target;this.setup(e??t.defaultProps)}setup(e){let t,s;const r={},{cleanups:i}=this;for(const t in e){const s=e[t];if("ref"===t)s;else if("children"===t)s;else if(t.startsWith("attr:")){const e=t.slice(5);F(s)?n(i,P(this,e,s)):M(this,e,s)}else r[t]=s}t&&(t.current=this),this.props=r,this.#e=s}mount(e){let t=this.#t;if(t)return t;const n=this.#n,{tag:s,shadowRootInit:r}=n,i=r?.slotAssignment,o=this.attachShadow({...r,mode:"open"}),[l]=W(this.render(),o);y(this.cleanups,l);const c=this.#e;var a,d,u,h;return c&&("manual"===i?(W,this,c,this.cleanups,m(d.shadowRoot.querySelectorAll("slot"),(e=>{const{name:t}=e;if(!(t in u))return;const n=u[t];if(!n)return;const s=$4b253a87e73908fc$var$renderSlotContent(a,n,h);s.length&&((e,t,n)=>{e.append(...n),t.assign(...n)})(d,e,s)}))):$4b253a87e73908fc$export$88f5bf723c76b672(W,this,c,n.slotTag??$4b253a87e73908fc$export$7aeaa1ca2e4d7cb5(s),this.cleanups),this.#e=void 0),this.#t=[()=>this.unmount(),this,()=>[this,this]],e?.(this),t}unmount(){this.#t&&(i(this.cleanups),this.shadowRoot.innerHTML="",this.#t=void 0)}}const ee=(e,t,n)=>s=>{const[r,i,o]=w("if/show directive");s(r),s(i);const l=R(i);let c=null;const a=z(e,(e=>{const s=!!e;c?.(),o(),[c]=s?t(l,e):n?.(l)??[null,void 0]}));return[()=>{a(),c?.()},void 0,()=>[r,i]]},te=[r,void 0,r],ne=()=>te,se=({when:e,children:t,fallback:n})=>t?ee(e,t,n):p("Invalid usage of 'Show'. Must provide children.",ne),re=e=>{const t=e[1];B(t)},ie=()=>0,oe=({of:n,children:s})=>(e&&(c(s)||f("Invalid `children` of `For` directive. Expected to be a function.")),r=>{let i=[];const[o,l,c]=w("for directive");r(o),r(l);const a=z(n,(n=>{const r=[];for(let e=0,t=n.length;e<t;e++)r.push([n[e],void 0]);let o=0;const c=r.length;let a=i.length-1,d=c-1;for(o=0;o<=a&&o<=d;o++){const e=i[o],t=r[o];if(!h(e[0],t[0]))break;t[1]=e[1]}for(;o<=a&&o<=d;a--,d--){const e=i[a],t=r[d];if(!h(e[0],t[0]))break;t[1]=e[1]}if(o>a){if(o<=d){const e=r[d+1]?.[1][2]()?.[0]??l,t=R(e);for(;o<=d;o++){const e=r[o];e[1]=s(e[0])(t)}}}else if(o>d)for(;o<=a;o++)re(i[o]);else{const n=o,c=o,u=new Map;for(o=n;o<=d;o++){const t=r[o][0];u.set(e&&u.has(t)?p(`Duplicated item found: ${t}. It's always an error in hyplate, since hyplate use the item itself as list key.`,t):t,o)}let h,f=0;const v=d-c+1;let m=!1,b=0;const g=t({length:v},ie);for(o=n;o<=a;o++){const e=i[o];if(f>=v){re(e);continue}const t=u.get(e[0]);null==t?re(e):(g[t-c]=o+1,t>=b?b=t:m=!0,r[t][1]=e[1],f++)}const w=m?le(g):[];for(h=w.length-1,o=v-1;o>=0;o--){const e=c+o,t=r[e],n=r[e+1]?.[1][2]()?.[0]??l,i=R(n);if(0===g[o])t[1]=s(t[0])(i);else if(m)if(h<0||o!==w[h]){const e=t[1][2]();e&&q(e[0],e[1],i)}else h--}}i=r}));return[()=>{for(let e=i.length-1;e>=0;e--)i[e][1][0]();a(),c()},void 0,()=>[o,l]]}),le=e=>{const t=[...e],n=[0];let s,r,i,o,l;const c=e.length;for(s=0;s<c;s++){const c=e[s];if(0!==c){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,e[n[l]]<c?i=l+1:o=l;c<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n};
/**
 * @license MIT
 * Copyright (C) 2022  DarrenDanielDay <Darren_Daniel_Day@hotmail.com>
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
let ce=h;const[ae,de,ue]=(()=>{const e=[];return[t=>n(e,t),()=>{s(e)},()=>e.at(-1)]})();class he{_val;_differ;[S]=new Set;constructor(e,t){this._val=e,this._differ=t}get val(){return ue()?.add(this),this._val}sub(e){return this[S].add(e),()=>{this[S].delete(e)}}set(e){this._differ(this._val,e)||(this._val=e,me(this[S],e))}}const fe=(e,t=ce)=>new he(e,t),ve=e=>e&&!!e[S],pe=(e,t)=>{const n=e.sub(t);return t(e.val),n},me=(e,t)=>{[...e].forEach((e=>{try{e(t)}catch(e){f(e)}}))};class be{_selector;_differ;#s=!0;#r=null;#i=[];[S]=new Set;constructor(e,t){this._selector=e,this._differ=t}get val(){return this.#o(),this.#r}sub(e){const t=this[S];return t.add(e),()=>{t.delete(e),t.size||i(this.#i)}}#o(){if(ue()?.add(this),!this.#s)return;this.#s=!1;const[e,t]=(()=>{const e=new Set;return ae(e),[e,de]})();this.#r=this._selector(),t(),i(this.#i),this.#i=[...e].map((e=>e.sub(this.#l)))}#l=()=>{this.#s=!0;const e=this.#r;this.#o(),this._differ(e,this.#r)||me(this[S],this.#r)}}const ge=(e,t=ce)=>new be(e,t),we=e=>e instanceof Ee,ye=e=>e instanceof _e,$e=e=>{throw new Error(e)};class Ee{constructor(e){this.value=e}equals(e){return we(e)?e.value===this.value:e.equals(this)}add(e){return we(e)?new Ee(this.value+e.value):e.add(this)}sub(e){return we(e)?new Ee(this.value-e.value):e.lsub(this)}lsub(e){return we(e)?new Ee(e.value-this.value):e.sub(this)}mult(e){return we(e)?new Ee(this.value*e.value):e.mult(this)}div(e){return we(e)?_e.create(this.value,e.value):e.ldiv(this)}ldiv(e){return we(e)?_e.create(e.value,this.value):e.div(this)}}class _e{static create(e,t){const n=((e,t)=>{let n;for(;n=e%t;)e=t,t=n;return t})(e,t);return e/=n,1!==(t/=n)?new _e(e,t):new Ee(e)}constructor(e,t){this.dividend=e,this.divisor=t}equals(e){const{dividend:t,divisor:n}=this;if(we(e))return t/n===e.value;if(ye(e)){const{dividend:s,divisor:r}=e;return s*n==r*t}return $e('Unsupported "Numeric" type.')}add(e){let{dividend:t,divisor:n}=this;if(we(e))t+=e.value*this.divisor;else{if(!ye(e))return $e('Unsupported "Numeric" type.');{const{dividend:s,divisor:r}=this,{divisor:i,dividend:o}=e;n=r*o,t=s*o+r*i}}return _e.create(t,n)}sub(e){let{dividend:t,divisor:n}=this;if(we(e))t-=e.value*n;else{if(!ye(e))return $e('Unsupported "Numeric" type.');{const{dividend:s,divisor:r}=this,{divisor:i,dividend:o}=e;n=r*o,t=s*o-r*i}}return _e.create(t,n)}lsub(e){let{dividend:t,divisor:n}=this;if(we(e))t=e.value*n-t;else{if(!ye(e))return $e('Unsupported "Numeric" type.');{const{dividend:s,divisor:r}=this,{divisor:i,dividend:o}=e;n=r*o,t=r*i-s*o}}return _e.create(t,n)}mult(e){let{dividend:t,divisor:n}=this;if(we(e))t*=e.value;else{if(!ye(e))return $e('Unsupported "Numeric" type.');n*=e.divisor,t*=e.dividend}return _e.create(t,n)}div(e){let{dividend:t,divisor:n}=this;if(we(e))n*=e.value;else{if(!ye(e))return $e('Unsupported "Numeric" type.');n*=e.dividend,t*=e.divisor}return _e.create(t,n)}ldiv(e){let{dividend:t,divisor:n}=this;if(we(e))[n,t]=[t,e.value*n];else{if(!ye(e))return $e('Unsupported "Numeric" type.');[n,t]=[e.divisor*t,e.dividend*n]}return _e.create(t,n)}}const Ne=(e,t,n)=>{const s=new Ee(n),r=t.length,i=e.length,o=n=>{const o=new Set;o.add(n);const l=e[n];let c=new Ee(l),a=l;const d=()=>{if(o.size===i&&c.equals(s))throw a;for(let n=0;n<i;n++){if(o.has(n))continue;o.add(n);const s=e[n],i=new Ee(s);for(let e=0;e<r;e++){const n=t[e],r=c,o=a;c=c[n](i),a={a:a,operator:n,b:s},d(),a=o,c=r}o.delete(n)}};d()};try{for(let e=0;e<i;e++)o(e)}catch(e){return e}throw new Error("No solution.")};z=pe,F=ve;const xe=e=>"number"==typeof e?Se(e):K("mrow",{children:e.operator.startsWith("l")?Te(e.b,e.a,e.operator):Te(e.a,e.b,e.operator)}),Se=e=>e<0?Q(V,{children:[K("mo",{fence:!0,children:"("}),K("mn",{children:e}),K("mo",{fence:!0,children:")"})]}):K("mn",{children:e}),Ae=(e,t,n)=>{if("number"==typeof e)return Se(e);const s=e.operator;return("add"===s||"sub"===s||"lsub"===s)&&"mult"===t||n&&("sub"===t||"lsub"===t)?Q(V,{children:[K("mo",{fence:!0,children:"("}),xe(e),K("mo",{fence:!0,children:")"})]}):xe(e)},Te=(e,t,n)=>"div"===n||"ldiv"===n?Q("mfrac",{children:[Ae(e,n),Ae(t,n,!0)]}):Q(V,{children:[Ae(e,n),K("mo",{children:Ce[n]}),Ae(t,n,!0)]}),Ce={add:"+",div:"/",ldiv:"/",lsub:"-",mult:"×",sub:"-"},Le=()=>{const e=fe(Array.from({length:4},(()=>({ref:{current:null}})))),t=fe(24),n=ge((()=>{const e=t.val;return`${e} ${e>1?"points":"point"}`})),s=fe(null),r=()=>{const n=e.val.map((e=>+e.ref.current.value));try{const e=Ne(n,["add","sub","lsub","mult","div","ldiv"],+t.val);s.set(Q("math",{display:"block",children:[xe(e),K("mo",{children:"="}),K("mn",{children:t.val})]}))}catch(e){s.set(K("math",{display:"block",children:K("ms",{children:"No solution."})}))}};return K("div",{class:"app mx-3 my-3",children:Q("form",{onSubmit:e=>{e.preventDefault(),r()},children:[Q("div",{class:"mb-3",children:[K("label",{for:"count",class:"form-label",children:"number count:"}),K("input",{id:"count",class:"form-control",name:"count",type:"number",required:!0,min:"1",max:"10",value:e.val.length,onChange:function(){const t=+this.value,n=e.val;if(t!==n.length){const s=n.length>t?n.slice(0,t):n.concat(Array.from({length:t-n.length},(()=>({ref:{current:null}}))));e.set(s)}}})]}),Q("div",{class:"mb-3",children:[K("label",{for:"sum",class:"form-label",children:"expected result:"}),K("input",{onChange:function(){const e=+this.value;isNaN(e)||t.set(e)},class:"form-control",id:"sum",name:"sum",value:"24",required:!0,type:"number"})]}),K("div",{class:"mb-3 row g-3",children:K(oe,{of:e,children:t=>K("div",{class:"col",children:Q("label",{class:"form-label",children:["input #",1+e.val.indexOf(t),K("input",{class:"form-control",required:!0,ref:t.ref})]})})})}),Q("button",{class:"btn btn-primary",type:"submit",children:["solve ",n]}),K("div",{children:K(se,{when:s,children:(e,t)=>W(t,e)})})]})})};W(K(Le,{}),O(document.body));
//# sourceMappingURL=index.a418c0f7.js.map
